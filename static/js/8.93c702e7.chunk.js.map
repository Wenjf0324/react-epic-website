{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","src","attributes","url","filename","target","href","id","tip","History","List"],"mappings":"mNAOMA,EAAMC,IAAOC,IAAV,kHA4DMC,EArDGC,aAAS,WAAO,IACxBC,EAAiBC,cAAjBD,aAcR,OARAE,qBAAU,WAER,OADAC,QAAQC,IAAI,4BACL,WACLD,QAAQC,IAAI,gBACZJ,EAAaK,WAEd,IAGD,8BACE,cAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAjBW,WACfR,EAAaS,QAiBTC,SAAUV,EAAaW,WAAaX,EAAaU,QACjDE,WAAW,EALb,SAOE,cAAC,IAAD,CACEC,WAAYb,EAAac,KACzBC,WAAY,SAACC,GAAD,OACV,eAAC,IAAKC,KAAN,WACE,8BACE,cAACtB,EAAD,CAAKuB,IAAKF,EAAKG,WAAWC,IAAID,WAAWC,QAE3C,8BACE,6BAAKJ,EAAKG,WAAWE,aAEvB,8BACE,mBAAGC,OAAO,SAASC,KAAMP,EAAKG,WAAWC,IAAID,WAAWC,IAAxD,SACGJ,EAAKG,WAAWC,IAAID,WAAWC,UATtBJ,EAAKQ,KAHzB,SAkBGxB,EAAaW,WAAaX,EAAaU,SACtC,8BACE,cAAC,IAAD,CAAMe,IAAI,kCC9CTC,UATf,WACE,OACE,qCACE,yCACA,cAACC,EAAD","file":"static/js/8.93c702e7.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { observer } from \"mobx-react\";\r\nimport { useStores } from \"../stores\";\r\nimport InfiniteScroll from \"react-infinite-scroller\";\r\nimport { List, Spin } from \"antd\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Img = styled.img`\r\n  width: 100px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n  border: 1px solid #eee;\r\n`;\r\n\r\nconst Component = observer(() => {\r\n  const { HistoryStore } = useStores();\r\n\r\n  const loadMore = () => {\r\n    HistoryStore.find();\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"进入组件\");\r\n    return () => {\r\n      console.log(\"卸载\");\r\n      HistoryStore.reset();\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <InfiniteScroll\r\n        initialLoad={true}\r\n        pageStart={0}\r\n        loadMore={loadMore}\r\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\r\n        useWindow={true}\r\n      >\r\n        <List\r\n          dataSource={HistoryStore.list}\r\n          renderItem={(item) => (\r\n            <List.Item key={item.id}>\r\n              <div>\r\n                <Img src={item.attributes.url.attributes.url} />\r\n              </div>\r\n              <div>\r\n                <h5>{item.attributes.filename}</h5>\r\n              </div>\r\n              <div>\r\n                <a target=\"_blank\" href={item.attributes.url.attributes.url}>\r\n                  {item.attributes.url.attributes.url}\r\n                </a>\r\n              </div>\r\n            </List.Item>\r\n          )}\r\n        >\r\n          {HistoryStore.isLoading && HistoryStore.hasMore && (\r\n            <div>\r\n              <Spin tip=\"加载中\" />\r\n            </div>\r\n          )}\r\n        </List>\r\n      </InfiniteScroll>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Component;\r\n","import React from \"react\";\r\nimport List from \"../components/List\";\r\n\r\nfunction History() {\r\n  return (\r\n    <>\r\n      <h1>History</h1>\r\n      <List></List>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default History;\r\n"],"sourceRoot":""}